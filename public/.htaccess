Options -Indexes
RewriteEngine On

# Přesměruj vše kromě existujících souborů a složek na index.php
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^(.*)$ index.php [QSA,L]

# Bezpečnostní hlavičky
<IfModule mod_headers.c>
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-XSS-Protection "1; mode=block"
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>

# Zakázat přístup k citlivým složkám (relativní cesty z /public)
RewriteRule ^config/ - [F,L]
RewriteRule ^src/ - [F,L]
RewriteRule ^database/ - [F,L]

# Cache pro statické assety
<FilesMatch "\.(css|js|png|jpg|jpeg|gif|ico|svg|woff2?)$">
    <IfModule mod_expires.c>
        ExpiresActive On
        ExpiresDefault "access plus 1 month"
    </IfModule>
</FilesMatch>
